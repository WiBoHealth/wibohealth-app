# ๐ง ุฅุตูุงุญ ูุดููุฉ ุงููุบุฉ ูู ูุงูุฐุฉ ุงูุชูุงุตูู
## WiBo Health - Modal Language Fix

---

## ๐ด **ุงููุดููุฉ ุงููููุชุดูุฉ:**

ูู ุงูุตูุฑ ุงููุฑูููุฉ:

### **ุงูุฃุนุฑุงุถ:**
1. โ **ูุญุชูู ูุฎุชูุท ูู ุงููุงูุฐุฉ ุงูููุจุซูุฉ:**
   - ุงูููุช: `minutes 15` (ุฅูุฌููุฒู)
   - ุงูุญุตุต: `ุญุตุฉ1` (ุนุฑุจู)
   - ุงูุณุนุฑุงุช: `ุณุนุฑุฉ180` (ุนุฑุจู)
   - ุงูููุงุฏูุฑ: **ุฅูุฌููุฒู** (Egg whites from 3 eggs)

2. โ **ุฒุฑ ุชุจุฏูู ุงููุบุฉ ูุง ูุนูู** ุนูุฏ ูุชุญ ูุงูุฐุฉ ุงูุชูุงุตูู

3. โ **ุงูุนูุงููู ูู ุงููุงุฆูุฉ ุชุนูู** (ุงูุนุฑุจู ูุธูุฑ ูููุ ุงูุฅูุฌููุฒู ุชุญุช)

---

## ๐ฏ **ุงูุณุจุจ ุงูุฌุฐุฑู:**

### **ุงููุดููุฉ 1: ุงุณุชุฎุฏุงู `data-lang` ูู HTML ุฏููุงูููู**
```javascript
// โ ุงูููุฏ ุงููุฏูู
`${recipe.servings} <span data-lang="ar">ุญุตุฉ</span><span data-lang="en" style="display: none;">servings</span>`
```
- ูุฐู ุงูุทุฑููุฉ **ูุง ุชุนูู** ูู ุงููุญุชูู ุงููููุดุฃ ุฏููุงููููุงู
- `data-lang` ูุนูู ููุท ูู HTML ุงูุซุงุจุช

### **ุงููุดููุฉ 2: ุงููุงูุฐุฉ ูุง ุชุชุญุฏุซ ุนูุฏ ุชุบููุฑ ุงููุบุฉ**
- ุนูุฏ ุงูุถุบุท ุนูู ุฒุฑ ุงููุบุฉุ ุงููุงุฆูุฉ ุชุชุญุฏุซ ููู ุงููุงูุฐุฉ ุงูููุชูุญุฉ **ูุง ุชุชุญุฏุซ**

---

## โ **ุงูุญู ุงูููุทุจููู:**

### **1. ุฅุฒุงูุฉ `data-lang` ูุงุณุชุฎุฏุงู ููู ูุจุงุดุฑุฉ:**

#### **ูุจู:**
```javascript
document.getElementById('modalServings').textContent = 
    `${recipe.servings || 1} <span data-lang="ar">ุญุตุฉ</span><span data-lang="en" style="display: none;">servings</span>`;
```

#### **ุจุนุฏ:**
```javascript
const servingsText = currentLang === 'en' ? 'servings' : 'ุญุตุฉ';
document.getElementById('modalServings').textContent = 
    `${recipe.servings || 1} ${servingsText}`;
```

---

### **2. ุชุญุฏูุซ ุงูููู ุงูุบุฐุงุฆูุฉ:**

#### **ูุจู:**
```javascript
nutritionGrid.innerHTML = `
    <div class="nutrition-card">
        <span class="nutrition-value">${recipe.nutrition.protein}ุฌู</span>
        <span class="nutrition-label" data-lang="ar">ุจุฑูุชูู</span>
        <span class="nutrition-label" data-lang="en" style="display: none;">Protein</span>
    </div>
`;
```

#### **ุจุนุฏ:**
```javascript
const labels = currentLang === 'en' 
    ? {protein: 'Protein', carbs: 'Carbs', fat: 'Fat', fiber: 'Fiber', unit: 'g'}
    : {protein: 'ุจุฑูุชูู', carbs: 'ูุฑุจูููุฏุฑุงุช', fat: 'ุฏููู', fiber: 'ุฃููุงู', unit: 'ุฌู'};

nutritionGrid.innerHTML = `
    <div class="nutrition-card">
        <span class="nutrition-value">${recipe.nutrition.protein}${labels.unit}</span>
        <span class="nutrition-label">${labels.protein}</span>
    </div>
`;
```

---

### **3. ุฅุนุงุฏุฉ ูุชุญ ุงููุงูุฐุฉ ุนูุฏ ุชุบููุฑ ุงููุบุฉ:**

```javascript
// Store current open recipe ID
let currentOpenRecipeId = null;

// In openRecipeModal():
currentOpenRecipeId = recipeId;

// In closeRecipeModal():
currentOpenRecipeId = null;

// Listen for language changes:
window.addEventListener('languageChanged', function(e) {
    currentLang = e.detail.language;
    renderRecipes(allRecipes);
    
    // Re-open modal if it was open
    if (currentOpenRecipeId !== null) {
        openRecipeModal(currentOpenRecipeId);
    }
});
```

---

## ๐ **ุงููุชูุฌุฉ ุงููุชููุนุฉ:**

### **ุนูุฏ ุงููุบุฉ ุงูุนุฑุจูุฉ:**
```
๐ณ ุฃููููุช ุจูุงุถ ุงูุจูุถ ุจุงูุฎุถุงุฑ
โฑ 15 ุฏูููุฉ | ๐ฅ 1 ุญุตุฉ | ๐ฅ 180 ุณุนุฑุฉ

ุงูููู ุงูุบุฐุงุฆูุฉ:
18ุฌู ุจุฑูุชูู
12ุฌู ูุฑุจูููุฏุฑุงุช
6ุฌู ุฏููู
3ุฌู ุฃููุงู

ุงูููุงุฏูุฑ:
โ ุจูุงุถ 3 ุจูุถุงุช
โ ูููู ุฃููุงู ููุทุน - ูุตู ููุจ
```

### **ุนูุฏ ุงููุบุฉ ุงูุฅูุฌููุฒูุฉ:**
```
๐ณ Vegetable Egg White Omelet
โฑ 15 minutes | ๐ฅ 1 servings | ๐ฅ 180 cal

Nutrition:
18g Protein
12g Carbs
6g Fat
3g Fiber

Ingredients:
โ Egg whites from 3 eggs
โ Mixed bell peppers, chopped - 1/2 cup
```

---

## ๐งช **ููู ุชุฎุชุจุฑ:**

### **ุงูุฎุทูุฉ 1: ุงูุชุญ recipes.html**

### **ุงูุฎุทูุฉ 2: ุงูุชุญ ุฃู ูุตูุฉ (ูุซูุงู: ุฃููููุช ุจูุงุถ ุงูุจูุถ)**

### **ุงูุฎุทูุฉ 3: ุชุญูู ูู ุงููุญุชูู ุงูุนุฑุจู:**
- โ ุงูููุช: `15 ุฏูููุฉ` (ูููุณ `minutes 15`)
- โ ุงูุญุตุต: `1 ุญุตุฉ` (ูููุณ `1 servings`)
- โ ุงูุณุนุฑุงุช: `180 ุณุนุฑุฉ` (ูููุณ `180 cal`)
- โ ุงูููู ุงูุบุฐุงุฆูุฉ: `18ุฌู ุจุฑูุชูู` (ูููุณ `18g Protein`)
- โ ุงูููุงุฏูุฑ: `ุจูุงุถ 3 ุจูุถุงุช` (ูููุณ `Egg whites from 3 eggs`)

### **ุงูุฎุทูุฉ 4: ุจุฏูู ุงููุบุฉ ุฅูู ุงูุฅูุฌููุฒูุฉ**
- ุงููุงูุฐุฉ ูุฌุจ ุฃู **ุชุชุญุฏุซ ุชููุงุฆูุงู**

### **ุงูุฎุทูุฉ 5: ุชุญูู ูู ุงููุญุชูู ุงูุฅูุฌููุฒู:**
- โ ุงูููุช: `15 minutes`
- โ ุงูุญุตุต: `1 servings`
- โ ุงูุณุนุฑุงุช: `180 cal`
- โ ุงูููู ุงูุบุฐุงุฆูุฉ: `18g Protein`
- โ ุงูููุงุฏูุฑ: `Egg whites from 3 eggs`

---

## ๐ฏ **ุงูุชุญุณููุงุช ุงูููุทุจูููุฉ:**

| ุงูุนูุตุฑ | ูุจู | ุจุนุฏ |
|--------|-----|-----|
| **ุงูููุช** | โ `minutes 15` | โ `15 ุฏูููุฉ` / `15 minutes` |
| **ุงูุญุตุต** | โ ูุฎุชูุท | โ `1 ุญุตุฉ` / `1 servings` |
| **ุงูุณุนุฑุงุช** | โ ูุฎุชูุท | โ `180 ุณุนุฑุฉ` / `180 cal` |
| **ุงูููู ุงูุบุฐุงุฆูุฉ** | โ `18ุฌู Protein` | โ `18ุฌู ุจุฑูุชูู` / `18g Protein` |
| **ุชุจุฏูู ุงููุบุฉ** | โ ูุง ูุนูู | โ ูุนูู ููุฑุงู |
| **ุงูููุงุฏูุฑ** | โ ูุฎุชูุท | โ ูุบุฉ ูุงุญุฏุฉ ููุท |

---

## ๐ง **ุงููููุงุช ุงูููุนุฏูููุฉ:**

```
โ recipes.html
   โโโ ุชุญุฏูุซ openRecipeModal()
   โโโ ุชุญุฏูุซ closeRecipeModal()
   โโโ ุฅุถุงูุฉ currentOpenRecipeId
   โโโ ุชุญุฏูุซ event listeners
   โโโ ุฅุฒุงูุฉ data-lang ูู ุงููุญุชูู ุงูุฏููุงูููู
```

---

## ๐ก **ููุงุญุธุงุช ูููุฉ:**

1. โ **ุงูููู ุงูุฃุตูู ุขูู:** `js/recipes-data.js` ูู ูููุณ
2. โ **ุงููุธุงู ูุงุจู ููุชูุณุน:** ูููู ุฅุถุงูุฉ ุงููุฒูุฏ ูู ุงููุตูุงุช
3. โ **ุงูุฃุฏุงุก ููุชุงุฒ:** ุฅุนุงุฏุฉ ูุชุญ ุงููุงูุฐุฉ ููุฑูุฉ
4. โ **ุงูุชูุงูู ุงููุงูู:** ูุนูู ูุน ุงููุธุงู ุงูููุญุฏ `unified-language-system.js`

---

## ๐ **ุงูุฎุทูุงุช ุงูุชุงููุฉ:**

### **ุจุนุฏ ุงูุชุฃูุฏ ูู ุงูุนูู:**
1. โ ุงุณุชููุงู ุชุฑุฌูุฉ ุงููุตูุงุช ุงููุชุจููุฉ (36-110)
2. โ ุชุทุจูู ููุณ ุงูุฅุตูุงุญ ุนูู ุตูุญุงุช ุฃุฎุฑู ุฅุฐุง ูุฒู
3. โ ุงุฎุชุจุงุฑ ุนูู ุฃุฌูุฒุฉ ูุฎุชููุฉ

---

**ุงูุชุงุฑูุฎ:** 2025-11-29  
**ุงูุญุงูุฉ:** โ ุชู ุงูุฅุตูุงุญ  
**ุงูุฅุตุฏุงุฑ:** v1.1 - Modal Language Fix
